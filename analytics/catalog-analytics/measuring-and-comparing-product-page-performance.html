<!DOCTYPE html>
<html>
<head>
	
	<title>Product page performance - Snowplow Analytics</title>
	

	<link rel="icon" type="image/x-icon" href="/favicon.ico" />

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link href="/static/css/styles.css" type="text/css" rel="stylesheet" />
	<link href="/static/css/pygments.css" type="text/css" rel="stylesheet" />
	
	<!--For the homepage slider-->
	<link rel="stylesheet" href="/static/css/nivo-slider.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="/static/css/nivo-slider-theme-default.css" type="text/css" media="screen" />
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
	<script src="/static/js/jquery-nivo-slider-pack.js" type="text/javascript" ></script>
	<!--MathJax http://www.mathjax.org/-->
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML.js"></script>
	<script type="text/javascript">
		MathJax.Hub.Config({
	      tex2jax: {
	        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
	      }
	    });
	    MathJax.Hub.Queue(function() {
	        var all = MathJax.Hub.getAllJax(), i;
	        for(i=0; i < all.length; i += 1) {
	            all[i].SourceElement().parentNode.className += ' has-jax';
	        }
    	});
	</script>
	<!-- end mathjax -->
	<!-- typekit -->
	<script type="text/javascript" src="//use.typekit.net/noo1diw.js"></script>
	<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<!-- end typekit -->
</head>
<body>
	<!-- Google Tag Manager -->
	<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-DLRG"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-DLRG');</script>
	<!-- End Google Tag Manager -->

	<div id="container">
		<div id="header" class="span-24">
  <div id="logo">
    <h1><a href="/"><img src="/static/img/snowplow-logo-website.png" title="Snowplow Analytics" /></a></h1>
  </div>
  <div id="menu" class="span-15">
    <ul>
      <li ><a href="/product/index.html">Product</a></li>
      <li ><a href="/services/index.html">Services</a></li>
      <li  class="active" ><a href="/analytics/index.html">Analytics</a></li>
      <li ><a href="/technology/index.html">Technology</a></li>
      <li ><a href="/blog.html">Blog</a></li>
      <li ><a id="mail" href="/about/index.html">About</a></li>
    </ul>
  </div>
</div>
	
		<div id="contents">
<a name='top'><h1>Measuring product page performance</h1></a>
<ol>
<li><a href='#add-to-basket'>Measuring what fraction of users to a product page add the product to their basket</a></li>

<li><a href='#visualising'>Visualising the data in an actionable scatter plot</a></li>

<li><a href='#sophisticated-approaches'>More sophisticated approaches to measuring product page performance</a></li>
</ol>
<a name='add-to-basket'><h3>1. Measuring what fraction of users to a product page add the product to their basket</h3></a>
<p>The primary purpose of product pages on a retailer site is to drive users to add the products listed to their baskets.</p>

<p>A straightforward (if crude) way of measuring <em>how good a product page is</em> then is to measure what fraction of users who visit the page go on to add that product to their basket.</p>

<p>To calculate the fraction of users who&#8217;ve visited a product page that have gone on to add one or more of those products to their basket, we start by calculating the number of uniques per product page:</p>
<div class='highlight'><pre><code class='mysql'><span class='cm'>/* Hive / Infobright SQL */</span>
<span class='k'>SELECT</span> 
<span class='n'>page_urlpath</span><span class='p'>,</span>
<span class='nf'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>domain_userid</span><span class='p'>))</span> <span class='k'>AS</span> <span class='n'>unique_visitors</span><span class='p'>,</span>
<span class='nf'>COUNT</span><span class='p'>(</span><span class='o'>*</span><span class='p'>)</span> <span class='k'>AS</span> <span class='n'>page_views</span>
<span class='k'>FROM</span> <span class='ss'>`events_008`</span>
<span class='k'>WHERE</span> <span class='p'>(</span>                                    <span class='c1'># Only display results for *product* pages</span>
	<span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/tarot-cards/%&#39;</span><span class='p'>)</span> 
	<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/oracles/%&#39;</span><span class='p'>)</span> 
	<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/pendula/%&#39;</span><span class='p'>)</span>
	<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/jewellery/%&#39;</span><span class='p'>)</span>
<span class='p'>)</span> <span class='k'>AND</span> <span class='ss'>`event`</span> <span class='o'>=</span> <span class='s1'>&#39;page_view&#39;</span>
<span class='k'>AND</span> <span class='n'>page_urlhost</span> <span class='o'>=</span> <span class='s1'>&#39;www.psychicbazaar.com&#39;</span> <span class='c1'># Only display results for the *production website*</span>
<span class='k'>GROUP</span> <span class='k'>BY</span> <span class='n'>page_urlpath</span>
<span class='k'>ORDER</span> <span class='k'>BY</span> <span class='n'>unique_visitors</span> <span class='k'>DESC</span><span class='p'>;</span>
</code></pre>
</div>
<p>Note that the query above is specific to a particular retailer: Psychic Bazaar. You will need to modify your version of the query so that results are only shown for product pages (rather than catalog pages, home pages etc), by modifying the <code>WHERE</code> clause. You may also want to limit the query to a specific period of time, by adding a set of date conditions (using <code>collecor_dt</code>) to the <code>WHERE</code> clause.</p>

<p>The results of the above query look something like this:</p>
<table><thead><tr><th><strong>page_urlpath</strong></th><th><strong>uniques</strong></th><th><strong>page_views</strong></th></tr></thead><tbody><tr><td style='text-align: left;'>/tarot-cards/290-the-piatnik-historical-cartomancy-collection.html</td><td style='text-align: right;'>53</td><td style='text-align: right;'>104</td>
</tr><tr><td style='text-align: left;'>/oracles/125-mlle-lenormand-cartomancy-deck.html</td><td style='text-align: right;'>51</td><td style='text-align: right;'>80</td>
</tr><tr><td style='text-align: left;'>/oracles/226-gateway-oracle-cards.html</td><td style='text-align: right;'>49</td><td style='text-align: right;'>67</td>
</tr><tr><td style='text-align: left;'>&#8230;</td><td style='text-align: right;'>&#8230;</td><td style='text-align: right;'>&#8230;</td>
</tr></tbody></table>
<p>Now that we have number of unique visitors per page, we need to find out how many of them added one or more of each product to their basket.</p>

<p>On our example website (<a href='http://www.psychicbazaar.com/'>www.psychicbazaar.com</a>), add to baskets are recorded using the <a href='https://github.com/snowplow/snowplow/wiki/2-Specific-event-tracking-with-the-Javascript-tracker#wiki-custom-structured-events'>structured event tracking</a> method. The five fields are set as follows:</p>

<ul>
<li><code>ev_category</code> = &#8216;ecomm&#8217;</li>

<li><code>ev_action</code> = &#8216;action&#8217;</li>

<li><code>ev_label</code> = product SKU</li>

<li><code>ev_property</code> = number added to basket</li>

<li><code>ev_value</code> = sales value of items added to basket</li>
</ul>

<p>We can therefore query the number of add-to-baskets by product page using the following query:</p>
<div class='highlight'><pre><code class='mysql'><span class='cm'>/* Hive / Infobright SQL */</span>
<span class='k'>SELECT</span>
<span class='n'>page_urlpath</span><span class='p'>,</span>
<span class='n'>ev_label</span> <span class='k'>AS</span> <span class='n'>product_sku</span><span class='p'>,</span>
<span class='nf'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>domain_userid</span><span class='p'>))</span> <span class='k'>AS</span> <span class='n'>uniques_that_add_to_basket</span><span class='p'>,</span>
<span class='nf'>COUNT</span><span class='p'>(</span><span class='o'>*</span><span class='p'>)</span> <span class='k'>AS</span> <span class='n'>number_of_add_to_baskets</span><span class='p'>,</span>
<span class='nf'>SUM</span><span class='p'>(</span><span class='n'>ev_property</span><span class='p'>)</span> <span class='k'>AS</span> <span class='n'>number_of_products_added_to_baket</span>
<span class='k'>FROM</span> <span class='n'>events_008</span>
<span class='k'>WHERE</span> <span class='p'>(</span>                                    <span class='c1'># Only display results for *product* pages</span>
	<span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/tarot-cards/%&#39;</span> <span class='p'>)</span> 
	<span class='k'>OR</span> <span class='p'>(</span> <span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/oracles/%&#39;</span> <span class='p'>)</span> 
	<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/pendula/%&#39;</span><span class='p'>)</span>
	<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/jewellery/%&#39;</span><span class='p'>))</span>
<span class='k'>AND</span> <span class='ss'>`event`</span> <span class='o'>=</span> <span class='s1'>&#39;struct&#39;</span>
<span class='k'>AND</span> <span class='ss'>`ev_category`</span> <span class='o'>=</span> <span class='s1'>&#39;ecomm&#39;</span>
<span class='k'>AND</span> <span class='ss'>`ev_action`</span> <span class='o'>=</span> <span class='s1'>&#39;add-to-basket&#39;</span>
<span class='k'>AND</span> <span class='n'>page_urlhost</span> <span class='o'>=</span> <span class='s1'>&#39;www.psychicbazaar.com&#39;</span>
<span class='k'>GROUP</span> <span class='k'>BY</span> <span class='n'>page_urlpath</span><span class='p'>,</span> <span class='n'>product_sku</span>
<span class='k'>ORDER</span> <span class='k'>BY</span> <span class='n'>uniques_that_add_to_basket</span> <span class='k'>DESC</span><span class='p'>;</span>
</code></pre>
</div>
<p>The results of the above query look something like this:</p>
<table><thead><tr><th><strong>page_urlpath</strong></th><th><strong>product_sku</strong></th><th><strong>uniques_that_add_to_basket</strong></th><th><strong>number_of_add_to_baskets</strong></th><th><strong>number_of_products_added_to_baket</strong></th></tr></thead><tbody><tr><td style='text-align: left;'>/tarot-cards/290-the-piatnik-historical-cartomancy-collection.html</td><td style='text-align: left;'>PBZ00274</td><td style='text-align: right;'>14</td><td style='text-align: right;'>16</td><td style='text-align: right;'>16</td>
</tr><tr><td style='text-align: left;'>/tarot-cards/121-the-gothic-tarot.html</td><td style='text-align: left;'>PBZ00110</td><td style='text-align: right;'>14</td><td style='text-align: right;'>15</td><td style='text-align: right;'>15</td>
</tr><tr><td style='text-align: left;'>&#8230;</td><td style='text-align: left;'>&#8230;</td><td style='text-align: right;'>&#8230;</td><td style='text-align: right;'>&#8230;</td><td style='text-align: right;'>&#8230;</td>
</tr></tbody></table>
<p>We can now combine the two above tables into a single query, and calculate the fraction of visitors to each page that go on to add the product to their basket:</p>
<div class='highlight'><pre><code class='mysql'><span class='cm'>/* Hive / Infobright SQL */</span>
<span class='k'>SELECT</span>
<span class='n'>pv</span><span class='p'>.</span><span class='n'>page_urlpath</span><span class='p'>,</span>
<span class='n'>pv</span><span class='p'>.</span><span class='n'>unique_visitors</span><span class='p'>,</span>
<span class='n'>ab</span><span class='p'>.</span><span class='n'>uniques_that_add_to_basket</span><span class='p'>,</span>
<span class='n'>ab</span><span class='p'>.</span><span class='n'>uniques_that_add_to_basket</span> <span class='o'>/</span> <span class='n'>pv</span><span class='p'>.</span><span class='n'>unique_visitors</span> <span class='k'>AS</span> <span class='n'>fraction_that_add_to_basket</span>
<span class='k'>FROM</span> <span class='p'>(</span>
	<span class='k'>SELECT</span> 
	<span class='n'>page_urlpath</span><span class='p'>,</span>
	<span class='nf'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>domain_userid</span><span class='p'>))</span> <span class='k'>AS</span> <span class='n'>unique_visitors</span><span class='p'>,</span>
	<span class='nf'>COUNT</span><span class='p'>(</span><span class='o'>*</span><span class='p'>)</span> <span class='k'>AS</span> <span class='n'>page_views</span>
	<span class='k'>FROM</span> <span class='ss'>`events_008`</span>
	<span class='k'>WHERE</span> <span class='p'>(</span>                                    <span class='c1'># Only display results for *product* pages</span>
		<span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/tarot-cards/%&#39;</span> <span class='p'>)</span> 
		<span class='k'>OR</span> <span class='p'>(</span> <span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/oracles/%&#39;</span> <span class='p'>)</span> 
		<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/pendula/%&#39;</span><span class='p'>)</span>
		<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/jewellery/%&#39;</span><span class='p'>)</span>
	<span class='p'>)</span> <span class='k'>AND</span> <span class='ss'>`event`</span> <span class='o'>=</span> <span class='s1'>&#39;page_view&#39;</span>
	<span class='k'>AND</span> <span class='n'>page_urlhost</span> <span class='o'>=</span> <span class='s1'>&#39;www.psychicbazaar.com&#39;</span> <span class='c1'># Only display results for the *production website*</span>
	<span class='k'>GROUP</span> <span class='k'>BY</span> <span class='n'>page_urlpath</span>	
<span class='p'>)</span> <span class='n'>pv</span>
<span class='k'>LEFT</span> <span class='k'>JOIN</span> <span class='p'>(</span>
	<span class='k'>SELECT</span>
	<span class='n'>page_urlpath</span><span class='p'>,</span>
	<span class='n'>ev_label</span> <span class='k'>AS</span> <span class='n'>product_sku</span><span class='p'>,</span>
	<span class='nf'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>domain_userid</span><span class='p'>))</span> <span class='k'>AS</span> <span class='n'>uniques_that_add_to_basket</span><span class='p'>,</span>
	<span class='nf'>COUNT</span><span class='p'>(</span><span class='o'>*</span><span class='p'>)</span> <span class='k'>AS</span> <span class='n'>number_of_add_to_baskets</span><span class='p'>,</span>
	<span class='nf'>SUM</span><span class='p'>(</span><span class='n'>ev_property</span><span class='p'>)</span> <span class='k'>AS</span> <span class='n'>number_of_products_added_to_baket</span>
	<span class='k'>FROM</span> <span class='n'>events_008</span>
	<span class='k'>WHERE</span> <span class='p'>(</span>                                    <span class='c1'># Only display results for *product* pages</span>
		<span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/tarot-cards/%&#39;</span> <span class='p'>)</span> 
		<span class='k'>OR</span> <span class='p'>(</span> <span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/oracles/%&#39;</span> <span class='p'>)</span> 
		<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/pendula/%&#39;</span><span class='p'>)</span>
		<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/jewellery/%&#39;</span><span class='p'>))</span>
	<span class='k'>AND</span> <span class='ss'>`event`</span> <span class='o'>=</span> <span class='s1'>&#39;struct&#39;</span>
	<span class='k'>AND</span> <span class='ss'>`ev_category`</span> <span class='o'>=</span> <span class='s1'>&#39;ecomm&#39;</span>
	<span class='k'>AND</span> <span class='ss'>`ev_action`</span> <span class='o'>=</span> <span class='s1'>&#39;add-to-basket&#39;</span>
	<span class='k'>AND</span> <span class='n'>page_urlhost</span> <span class='o'>=</span> <span class='s1'>&#39;www.psychicbazaar.com&#39;</span>
	<span class='k'>GROUP</span> <span class='k'>BY</span> <span class='n'>page_urlpath</span><span class='p'>,</span> <span class='n'>product_sku</span>
<span class='p'>)</span> <span class='n'>ab</span>
<span class='k'>ON</span> <span class='n'>pv</span><span class='p'>.</span><span class='n'>page_urlpath</span> <span class='o'>=</span> <span class='n'>ab</span><span class='p'>.</span><span class='n'>page_urlpath</span>
</code></pre>
</div>
<p>The results of the query look something like this:</p>
<table><thead><tr><th><strong>page_urlpath</strong></th><th><strong>unique_visitors</strong></th><th><strong>uniques_that_add_to_basket</strong></th><th><strong>fraction_that_add_to_basket</strong></th></tr></thead><tbody><tr><td style='text-align: left;'>/tarot-cards/244-el-gran-tarot-esoterico.html</td><td style='text-align: right;'>132</td><td style='text-align: right;'>17</td><td style='text-align: right;'>0.128</td>
</tr><tr><td style='text-align: left;'>/jewellery/151-gold-hamsa-on-black-thread-bracelet.htm</td><td style='text-align: right;'>105</td><td style='text-align: right;'>2</td><td style='text-align: right;'>0.190</td>
</tr><tr><td style='text-align: left;'>&#8230;</td><td style='text-align: right;'>&#8230;</td><td style='text-align: right;'>&#8230;</td><td style='text-align: right;'>&#8230;</td>
</tr></tbody></table>
<p>We can plot the results to compare products between pages:</p>

<p><img alt='add-to-basket-rate-by-product-page' src='/static/img/analytics/catalog-analytics/product-page-performance/top-product-page-by-fraction-of-uniques-that-add-to-basket.jpg' /></p>

<p>The above plot is interesting: it makes it easy to compare conversion rates between products and product pages. In the next section we will evolve our analysis using a scatter plot to visualize the product page performance.</p>

<p>Back to <a href='#top'>top</a>.</p>
<a name='visualising'><h3>Visualising the data in an actionable scatter-plot</h3></a>
<p>In this section, we are going to build a scatter plot which compares the number of uniques that view each product with the number of uniques that add the product to basket, with the size of each dot being the number of uniques that buy the product.</p>

<p>Here is a preview of the scatter plot we will generate:</p>

<p><img alt='scatter-plot' src='/static/img/analytics/catalog-analytics/product-page-performance/scatter-plot.jpg' /></p>

<p>The good thing about the above scatter plot is that it is incredibly <em>actionable</em>. Before we look at how it is actionable, let&#8217;s explore the plot briefly.</p>

<h4 id='understanding_the_plot'>Understanding the plot</h4>

<p>Each product (i.e. product page) is marked on the plot by a circle. The position of the circle on the left-right axis indicates how many times that product page has been viewed: so the products over to the right of the plot are ones with highly trafficked product pages.</p>

<p><img alt='expl1' src='/static/img/analytics/catalog-analytics/product-page-performance/Slide1.JPG' /></p>

<p>The position on the top-bottom axis indicates the number of unique users who have added the product to their baskets. Products that are higher up have been added to basket more frequently than those lower down.</p>

<p><img alt='expl2' src='/static/img/analytics/catalog-analytics/product-page-performance/Slide2.JPG' /></p>

<p>We can tell how well-converting a product page is by looking at the height of its position on the graph, relative to its distance from the left axis. Products that are positioned high up, but over to the left, are added to basket a lot, even if they do not attract many visitors. They are therefore highly converting product pages.</p>

<p><img alt='expl3' src='/static/img/analytics/catalog-analytics/product-page-performance/Slide3.JPG' /></p>

<h4 id='why_is_the_scatter_plot_so_actionable'>Why is the scatter plot so actionable?</h4>

<p>Let&#8217;s look at why the plot is so <strong>actionable</strong>. To take one example: any products located in the lower right corner are highly trafficked but low converting - any effort spent fixing those product pages (e.g. by checking the copy, updating the product images or lowering the price) should be rewarded with a significant sales uplift, given the number of people visiting those pages:</p>

<p><img alt='expl4' src='/static/img/analytics/catalog-analytics/product-page-performance/Slide4.JPG' /></p>

<p>In our plot above that means checking the product page for the <em>Gateway Oracle Cards</em> and the <em>Celtic Ogham Set</em> for example. In contrast, products located in the top left of the plot are very highly converting, but low trafficked pages. We should drive more traffic to these pages, either by positioning those products more prominently on catalog pages, for example, or by spending marketing dollars driving more traffic to those pages specifically. Again, that investment should result in a significant uplift in sales, given how highly converting those products are.</p>

<p><img alt='expl5' src='/static/img/analytics/catalog-analytics/product-page-performance/Slide5.JPG' /></p>

<p>Products in the top right are already performing well - this analysis suggests that we focus our efforts on the two groups of products identified above.</p>

<p><img alt='expl6' src='/static/img/analytics/catalog-analytics/product-page-performance/Slide6.JPG' /></p>

<p>Similarly, products in the lower left corner are performing poorly - but it is not clear whether this is because they have low traffic levels and /or are poor at driving conversions. We should invest in improving the performance of these pages, but the return on that investment is likely to be smaller (or harder to achieve) than the two opportunities identified above.</p>

<p><img alt='expl7' src='/static/img/analytics/catalog-analytics/product-page-performance/Slide7.JPG' /></p>

<h4 id='producing_the_plot'>Producing the plot</h4>

<p>To produce the plot we need to the same data as above, but need to include in addition data on the number of uniques who go on to purchase each product. This additional data can be delivered via the following query:</p>
<div class='highlight'><pre><code class='mysql'><span class='cm'>/* Hive / Infobright SQL */</span>
<span class='k'>SELECT</span>
<span class='n'>ti_sku</span><span class='p'>,</span>
<span class='nf'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>domain_userid</span><span class='p'>))</span> <span class='k'>AS</span> <span class='n'>uniques_that_purchase</span><span class='p'>,</span>
<span class='nf'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>ti_orderid</span><span class='p'>))</span> <span class='k'>AS</span> <span class='n'>number_of_orders</span><span class='p'>,</span>
<span class='nf'>SUM</span><span class='p'>(</span><span class='n'>ti_quantity</span><span class='p'>)</span> <span class='k'>AS</span> <span class='n'>actual_number_sold</span>
<span class='k'>FROM</span> <span class='n'>events_008</span>
<span class='k'>WHERE</span> <span class='ss'>`event`</span> <span class='o'>=</span> <span class='s1'>&#39;transaction_item&#39;</span>
<span class='k'>GROUP</span> <span class='k'>BY</span> <span class='n'>ti_sku</span>
</code></pre>
</div>
<p>We can combine this with the previous queries:</p>
<div class='highlight'><pre><code class='mysql'><span class='cm'>/* Hive / Infobright SQL */</span>
<span class='k'>SELECT</span>
<span class='n'>pv</span><span class='p'>.</span><span class='n'>page_urlpath</span><span class='p'>,</span>
<span class='n'>pv</span><span class='p'>.</span><span class='n'>unique_visitors</span><span class='p'>,</span>
<span class='n'>ab</span><span class='p'>.</span><span class='n'>uniques_that_add_to_basket</span><span class='p'>,</span>
<span class='n'>t</span><span class='p'>.</span><span class='n'>uniques_that_purchase</span>
<span class='k'>FROM</span> <span class='p'>(</span>
	<span class='k'>SELECT</span> 
	<span class='n'>page_urlpath</span><span class='p'>,</span>
	<span class='nf'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>domain_userid</span><span class='p'>))</span> <span class='k'>AS</span> <span class='n'>unique_visitors</span><span class='p'>,</span>
	<span class='nf'>COUNT</span><span class='p'>(</span><span class='o'>*</span><span class='p'>)</span> <span class='k'>AS</span> <span class='n'>page_views</span>
	<span class='k'>FROM</span> <span class='ss'>`events_008`</span>
	<span class='k'>WHERE</span> <span class='p'>(</span>                                    <span class='c1'># Only display results for *product* pages</span>
		<span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/tarot-cards/%&#39;</span> <span class='p'>)</span> 
		<span class='k'>OR</span> <span class='p'>(</span> <span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/oracles/%&#39;</span> <span class='p'>)</span> 
		<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/pendula/%&#39;</span><span class='p'>)</span>
		<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/jewellery/%&#39;</span><span class='p'>)</span>
	<span class='p'>)</span> <span class='k'>AND</span> <span class='ss'>`event`</span> <span class='o'>=</span> <span class='s1'>&#39;page_view&#39;</span>
	<span class='k'>AND</span> <span class='n'>page_urlhost</span> <span class='o'>=</span> <span class='s1'>&#39;www.psychicbazaar.com&#39;</span> <span class='c1'># Only display results for the *production website*</span>
	<span class='k'>GROUP</span> <span class='k'>BY</span> <span class='n'>page_urlpath</span>	
<span class='p'>)</span> <span class='n'>pv</span>
<span class='k'>LEFT</span> <span class='k'>JOIN</span> <span class='p'>(</span>
	<span class='k'>SELECT</span>
	<span class='n'>page_urlpath</span><span class='p'>,</span>
	<span class='n'>ev_label</span> <span class='k'>AS</span> <span class='n'>product_sku</span><span class='p'>,</span>
	<span class='nf'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>domain_userid</span><span class='p'>))</span> <span class='k'>AS</span> <span class='n'>uniques_that_add_to_basket</span><span class='p'>,</span>
	<span class='nf'>COUNT</span><span class='p'>(</span><span class='o'>*</span><span class='p'>)</span> <span class='k'>AS</span> <span class='n'>number_of_add_to_baskets</span><span class='p'>,</span>
	<span class='nf'>SUM</span><span class='p'>(</span><span class='n'>ev_property</span><span class='p'>)</span> <span class='k'>AS</span> <span class='n'>number_of_products_added_to_baket</span>
	<span class='k'>FROM</span> <span class='n'>events_008</span>
	<span class='k'>WHERE</span> <span class='p'>(</span>                                    <span class='c1'># Only display results for *product* pages</span>
		<span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/tarot-cards/%&#39;</span> <span class='p'>)</span> 
		<span class='k'>OR</span> <span class='p'>(</span> <span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/oracles/%&#39;</span> <span class='p'>)</span> 
		<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/pendula/%&#39;</span><span class='p'>)</span>
		<span class='k'>OR</span> <span class='p'>(</span><span class='n'>page_urlpath</span> <span class='k'>LIKE</span> <span class='s1'>&#39;/jewellery/%&#39;</span><span class='p'>))</span>
	<span class='k'>AND</span> <span class='ss'>`event`</span> <span class='o'>=</span> <span class='s1'>&#39;struct&#39;</span>
	<span class='k'>AND</span> <span class='ss'>`ev_category`</span> <span class='o'>=</span> <span class='s1'>&#39;ecomm&#39;</span>
	<span class='k'>AND</span> <span class='ss'>`ev_action`</span> <span class='o'>=</span> <span class='s1'>&#39;add-to-basket&#39;</span>
	<span class='k'>AND</span> <span class='n'>page_urlhost</span> <span class='o'>=</span> <span class='s1'>&#39;www.psychicbazaar.com&#39;</span>
	<span class='k'>GROUP</span> <span class='k'>BY</span> <span class='n'>page_urlpath</span><span class='p'>,</span> <span class='n'>product_sku</span>
<span class='p'>)</span> <span class='n'>ab</span>
<span class='k'>ON</span> <span class='n'>pv</span><span class='p'>.</span><span class='n'>page_urlpath</span> <span class='o'>=</span> <span class='n'>ab</span><span class='p'>.</span><span class='n'>page_urlpath</span>
<span class='k'>LEFT</span> <span class='k'>JOIN</span> <span class='p'>(</span>
	<span class='k'>SELECT</span>
	<span class='n'>ti_sku</span><span class='p'>,</span>
	<span class='nf'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>domain_userid</span><span class='p'>))</span> <span class='k'>AS</span> <span class='n'>uniques_that_purchase</span><span class='p'>,</span>
	<span class='nf'>COUNT</span><span class='p'>(</span><span class='k'>DISTINCT</span><span class='p'>(</span><span class='n'>ti_orderid</span><span class='p'>))</span> <span class='k'>AS</span> <span class='n'>number_of_orders</span><span class='p'>,</span>
	<span class='nf'>SUM</span><span class='p'>(</span><span class='n'>ti_quantity</span><span class='p'>)</span> <span class='k'>AS</span> <span class='n'>actual_number_sold</span>
	<span class='k'>FROM</span> <span class='n'>events_008</span>
	<span class='k'>WHERE</span> <span class='ss'>`event`</span> <span class='o'>=</span> <span class='s1'>&#39;transaction_item&#39;</span>
	<span class='k'>GROUP</span> <span class='k'>BY</span> <span class='n'>ti_sku</span>
<span class='p'>)</span> <span class='n'>t</span>
<span class='k'>ON</span> <span class='n'>ab</span><span class='p'>.</span><span class='n'>product_sku</span> <span class='o'>=</span> <span class='n'>t</span><span class='p'>.</span><span class='n'>ti_sku</span>
</code></pre>
</div>
<p>This produces a result set that looks like this:</p>
<table><thead><tr><th><strong>page_urlpath</strong></th><th><strong>unique_visitors</strong></th><th><strong>uniques_that_add_to_basket</strong></th><th><strong>uniques_that_purchase</strong></th></tr></thead><tbody><tr><td style='text-align: left;'>/oracles/266-magical-messages-from-the-fairies-oracle-cards.html</td><td style='text-align: right;'>89</td><td style='text-align: right;'>14</td><td style='text-align: right;'>7</td>
</tr><tr><td style='text-align: left;'>/tarot-cards/127-petrak-tarot.html</td><td style='text-align: right;'>82</td><td style='text-align: right;'>21</td><td style='text-align: right;'>18</td>
</tr><tr><td style='text-align: left;'>&#8230;</td><td style='text-align: right;'>&#8230;</td><td style='text-align: right;'>&#8230;</td><td style='text-align: right;'>&#8230;</td>
</tr></tbody></table>
<p>We can produce the scatter plot directly in Tableau, for example, by using the above query to import the data, dragging the <code>page_urlpath</code> dimension and three metrics in the above table onto the pane and then clicking on the scatter plot icon.</p>

<p>Back to <a href='#top'>top</a>.</p>
<a name='sophisticated-approaches'><h3>3. More sophisticated approaches to measuring product page performance</h3></a>
<p>The above approach to measuring product performance assumes that all the users who land on a product page are just as likely to add the product to their basket, and as a result, any difference in conversion rates between product pages relates to how good that product page is.</p>

<p>That assumption is nearly always false: a user who visits a website specifically to buy a product is much more likely to convert that one who is browsing, but open to being upsold. When we perform the above analysis on a large data set, that might not matter because the <em>average</em> likelihood to purchase prior to viewing the page might be similar. But it might not be.</p>

<p>Therefore, if we wish to take a more sophisticated approach to measuring product page effectiveness, we should take into account how likely a visitor is to convert prior to viewing the product page. Whilst this is a very difficult figure to calculate in any meaningful way, we can distinguish different types of user e.g.:</p>

<ol>
<li>Those who have come to the website specifically to buy <strong>this</strong> product</li>

<li>Those who have come to the website to buy <em>something</em></li>

<li>Those who are on the website for another reason</li>
</ol>

<p>There are a variety of ways of identifying which of the above buckets a user is in. For example, if they have come from a search engine where they have entered the product name directly, that suggests they belong in bucket one. Similarly, if they perform an internal search for the product, or the product page is their landing page, they probably belong in Bucket One above.</p>

<p>Identifying if the user is in the market to buy <em>something</em> or not is a bit tricker. If they are systematically viewing a range of products, then the chances are that they belong in Bucket Two. If they have come to the website to enter a competition or read a blog post, on the other hand, they probably belong in bucket three.</p>

<p><em>Note: there are more rigorous ways of identifying which bucket a user belong in e.g. using machine learning to identify behaviours that are indicative of a user belonging in each bucket. We will be covering these in a future set of recipes in the <a href='/analytics/customer-analytics/overview.html'>customer analytics</a> section of the cookbook.</em></p>

<p>Once we have categorised our users into different buckets, we should compare conversion rates for each product page against each audience segment. It is especially instructive to identify low conversion rates for Buckets One and Two. For example, if a product page is relatively poor at converting users in Bucket One, that suggests that maybe:</p>

<ul>
<li>The price of the item is too high</li>

<li>The description of the item is unclear or offputting</li>

<li>There is some other reason why the user would prefer to buy it from another retailer than you</li>
</ul>

<p>On the other hand, a low conversion rate for people in Bucket Two suggests:</p>

<ul>
<li>The product page does a bad job of explaining the appeal of this product to someone who is unfamiliar with it</li>

<li>The images are not attractive</li>

<li>There are other, more attractive products on offer, either within the website or on competitor sites</li>
</ul>

<p>In addition, a relatively high conversion rate for users in Bucket Three suggests that we have a &#8220;hero&#8221; product in the catalog: one that people buy even though they haven&#8217;t come to the website to make a purchase. This is a product we should be marketing intensively.</p>

<p>Back to <a href='#top'>top</a>.</p>
</div>

 <div id="sidebar">
	<h1>Analysts Cookbook</h1>
	<p>
		<a href="/analytics/index.html" >Overview</a>
		
	</p>
	<p>
		<a href="/analytics/customer-analytics/overview.html" >Customer analytics</a>
		
	</p>
	<p>
		<a href="/analytics/catalog-analytics/overview.html" class="active">Catalog analytics</a>
		
		<ul>
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
						
							
							<li><a href="/analytics/catalog-analytics/overview.html">Overview</a></li>
									
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
						
							
							<li class="active"><a href="/analytics/catalog-analytics/measuring-and-comparing-product-page-performance.html" class="active">Product page performance</a></li>
									
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
						
							
							<li><a href="/analytics/catalog-analytics/measuring-and-comparing-content-page-performance.html">Content page performance</a></li>
									
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
						
							
							<li><a href="/analytics/catalog-analytics/market-basket-analysis-identifying-products-that-sell-well-together.html">Market basket analysis - identifying products and content that go well together</a></li>
									
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
						
							
							<li><a href="/analytics/catalog-analytics/measuring-how-much-traffic-different-items-in-your-catalog-drive-to-your-website.html">Measure how much traffic different items on your catalog drive to your website</a></li>
									
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
									
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
					
				
			
		</ul>		
		
	</p>
	<p>
		<a href="/analytics/platform-analytics/overview.html" >Platform analytics</a>
		
	</p>
	<p>
		<a href="/analytics/tools-and-techniques/overview.html" >Tools and techniques</a>
		
	</p>
</div>

		<div id="footer">
	<p>Copyright © Snowplow Analytics Limited 2012 - 2013.  All rights reserved</p>
</div>
	</div>
		<!-- Following Javascript function used by Disqus to count the number of comments for each blog post and display in the main index -->
	  	<script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'snowplow'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        </script>
        <!-- begin olark code -->
		<script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
		f[z]=function(){
		(a.s=a.s||[]).push(arguments)};var a=f[z]._={
		},q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
		f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
		0:+new Date};a.P=function(u){
		a.p[u]=new Date-a.p[0]};function s(){
		a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
		hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
		return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
		b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
		b.contentWindow[g].open()}catch(w){
		c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
		var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
		b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
		loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
		/* custom configuration goes here (www.olark.com/documentation) */
		olark.identify('9752-503-10-5227');/*]]>*/</script><noscript><a href="https://www.olark.com/site/9752-503-10-5227/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
		<!-- end olark code -->
		<!-- Track Olark chats in GTM (so can pass data onto Snowplow) -->
		<script type="text/javascript">
		olark('api.chat.onMessageToOperator', function(event) {
		    dataLayer.push({'event': 'olarkMessageToOperator'});
		});
		olark('api.chat.onMessageToVisitor', function(event) {
		    dataLayer.push({'event': 'olarkMessageToVisitor'});
		});
		</script>
		<!-- end track olark code -->


</body>
</html>